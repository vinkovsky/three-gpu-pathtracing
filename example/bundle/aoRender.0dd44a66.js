function e(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=r.parcelRequire5b70;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,r.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){n[e]=r},r.parcelRequire5b70=s),s.register("27Lyk",(function(r,t){var n,s;e(r.exports,"register",(()=>n),(e=>n=e)),e(r.exports,"resolve",(()=>s),(e=>s=e));var o={};n=function(e){for(var r=Object.keys(e),t=0;t<r.length;t++)o[r[t]]=e[r[t]]},s=function(e){var r=o[e];if(null==r)throw new Error("Could not resolve bundle with id "+e);return r}})),s.register("cVdfP",(function(r,t){e(r.exports,"PathTracingSceneWorker",(()=>a));var n=s("hWj76"),o=s("8Zfx2"),i=s("a8VBx");class a extends n.PathTracingSceneGenerator{constructor(){super(),this.bvhGenerator=new i.GenerateMeshBVHWorker}generate(e,r={}){const{bvhGenerator:t}=this,{geometry:n,materials:s,textures:i,lights:a,spotLights:l}=this.prepScene(e),u={strategy:o.SAH,...r,maxLeafTris:1};return t.generate(n,u).then((r=>({scene:e,materials:s,textures:i,lights:a,spotLights:l,bvh:r})))}dispose(){this.bvhGenerator.dispose()}}})),s.register("hWj76",(function(r,t){e(r.exports,"PathTracingSceneGenerator",(()=>a));var n=s("ilwiq"),o=s("8Zfx2"),i=s("jM3IF");class a{prepScene(e){e=Array.isArray(e)?e:[e];const r=[],t=[];for(let s=0,i=e.length;s<i;s++)e[s].traverseVisible((e=>{if(e.isSkinnedMesh||e.isMesh&&e.morphTargetInfluences){const t=new o.StaticGeometryGenerator(e);t.attributes=["position","color","normal","tangent","uv","uv2"],t.applyWorldTransforms=!1;const s=new n.Mesh(t.generate(),e.material);s.matrixWorld.copy(e.matrixWorld),s.matrix.copy(e.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale),r.push(s)}else e.isMesh?r.push(e):(e.isRectAreaLight||e.isSpotLight||e.isDirectionalLight||e.isPointLight)&&t.push(e)}));return{...i.mergeMeshes(r,{attributes:["position","normal","tangent","uv","color"]}),lights:t}}generate(e,r={}){const{materials:t,textures:n,geometry:s,lights:i}=this.prepScene(e),a={strategy:o.SAH,...r,maxLeafTris:1};return{scene:e,materials:t,textures:n,lights:i,bvh:new o.MeshBVH(s,a)}}}})),s.register("a8VBx",(function(r,t){e(r.exports,"GenerateMeshBVHWorker",(()=>i));var n=s("ilwiq"),o=s("6KVZ3");class i{constructor(){this.running=!1,this.worker=new Worker(s("2AdIp")),this.worker.onerror=e=>{throw e.message?new Error(`GenerateMeshBVHWorker: Could not create Web Worker with error "${e.message}"`):new Error("GenerateMeshBVHWorker: Could not create Web Worker.")}}generate(e,r={}){if(this.running)throw new Error("GenerateMeshBVHWorker: Already running job.");if(null===this.worker)throw new Error("GenerateMeshBVHWorker: Worker has been disposed.");const{worker:t}=this;return this.running=!0,new Promise(((s,i)=>{t.onerror=e=>{i(new Error(`GenerateMeshBVHWorker: ${e.message}`)),this.running=!1},t.onmessage=a=>{this.running=!1;const{data:l}=a;if(l.error)i(new Error(l.error)),t.onmessage=null;else if(l.serialized){const{serialized:i,position:a}=l,u=o.MeshBVH.deserialize(i,e,{setIndex:!1}),g=Object.assign({setBoundingBox:!0},r);if(e.attributes.position.array=a,e.index)e.index.array=i.index;else{const r=new n.BufferAttribute(i.index,1,!1);e.setIndex(r)}g.setBoundingBox&&(e.boundingBox=u.getBoundingBox(new n.Box3)),s(u),t.onmessage=null}else r.onProgress&&r.onProgress(l.progress)};const a=e.index?e.index.array:null,l=e.attributes.position.array;if(l.isInterleavedBufferAttribute||a&&a.isInterleavedBufferAttribute)throw new Error("GenerateMeshBVHWorker: InterleavedBufferAttribute are not supported for the geometry attributes.");const u=[l];a&&u.push(a),t.postMessage({index:a,position:l,options:{...r,onProgress:null,includedProgressCallback:Boolean(r.onProgress),groups:[...e.groups]}},u.map((e=>e.buffer)))}))}dispose(){this.worker.terminate(),this.worker=null}terminate(){console.warn('GenerateMeshBVHWorker: "terminate" is deprecated. Use "dispose" instead.'),this.dispose()}}})),s.register("2AdIp",(function(e,r){var t=s("7ryUf");let n=new URL(s("27Lyk").resolve("jsyN8"),import.meta.url);e.exports=t(n.toString(),n.origin,!0)})),s.register("7ryUf",(function(e,r){e.exports=function(e,r,t){if(r===self.location.origin)return e;var n=t?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))}})),s("27Lyk").register(JSON.parse('{"jWOQR":"aoRender.0dd44a66.js","jsyN8":"generateAsync.worker.b2811d07.js"}'));
//# sourceMappingURL=aoRender.0dd44a66.js.map

{"mappings":"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","sources":["example/depthOfField.js"],"sourcesContent":["import * as THREE from 'three';\nimport { FullScreenQuad } from 'three/examples/jsm/postprocessing/Pass.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { PathTracingRenderer, PhysicalPathTracingMaterial, PhysicalCamera, BlurredEnvMapGenerator, GradientEquirectTexture } from '../src/index.js';\nimport { PathTracingSceneWorker } from '../src/workers/PathTracingSceneWorker.js';\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\nimport { MeshoptDecoder } from 'three/examples/jsm/libs/meshopt_decoder.module.js';\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\n\nlet renderer, controls, sceneInfo, ptRenderer, camera, fsQuad, scene;\nlet samplesEl;\nconst mouse = new THREE.Vector2();\nconst focusPoint = new THREE.Vector3();\nconst params = {\n\n\tbounces: 3,\n\tsamplesPerFrame: 1,\n\tresolutionScale: 1 / window.devicePixelRatio,\n\tfilterGlossyFactor: 0.5,\n\ttiles: 1,\n\tautoFocus: true,\n\n};\n\n// clamp value for mobile\nconst aspectRatio = window.innerWidth / window.innerHeight;\nif ( aspectRatio < 0.65 ) {\n\n\tparams.bounces = Math.max( params.bounces, 6 );\n\tparams.resolutionScale *= 0.5;\n\tparams.tiles = 2;\n\n}\n\ninit();\n\nasync function init() {\n\n\trenderer = new THREE.WebGLRenderer( { antialias: true } );\n\trenderer.toneMapping = THREE.ACESFilmicToneMapping;\n\trenderer.outputEncoding = THREE.sRGBEncoding;\n\tdocument.body.appendChild( renderer.domElement );\n\n\tcamera = new PhysicalCamera( 60, window.innerWidth / window.innerHeight, 0.025, 500 );\n\tcamera.position.set( - 0.262, 0.5276, - 1.1606 );\n\tcamera.apertureBlades = 6;\n\tcamera.fStop = 0.6;\n\tcamera.focusDistance = 1.1878;\n\tfocusPoint.set( - 0.5253353217832674, 0.3031596413506029, 0.000777794185259223 );\n\n\tscene = new THREE.Scene();\n\n\tconst gradientMap = new GradientEquirectTexture();\n\tgradientMap.topColor.set( 0x390f20 ).convertSRGBToLinear();\n\tgradientMap.bottomColor.set( 0x151b1f ).convertSRGBToLinear();\n\tgradientMap.update();\n\n\tptRenderer = new PathTracingRenderer( renderer );\n\tptRenderer.camera = camera;\n\tptRenderer.material = new PhysicalPathTracingMaterial();\n\tptRenderer.tiles.set( params.tiles, params.tiles );\n\tptRenderer.material.setDefine( 'FEATURE_MIS', 0 );\n\tptRenderer.material.backgroundMap = gradientMap;\n\tptRenderer.material.environmentIntensity = 0.5;\n\n\tfsQuad = new FullScreenQuad( new THREE.MeshBasicMaterial( {\n\t\tmap: ptRenderer.target.texture,\n\t\tblending: THREE.CustomBlending,\n\t} ) );\n\n\tcontrols = new OrbitControls( camera, renderer.domElement );\n\tcontrols.target.set( - 0.182, 0.147, 0.06 );\n\tcontrols.update();\n\tcontrols.addEventListener( 'change', () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\n\tsamplesEl = document.getElementById( 'samples' );\n\n\tconst envMapPromise = new RGBELoader().setDataType( THREE.FloatType )\n\t\t.loadAsync( 'https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/equirectangular/royal_esplanade_1k.hdr' )\n\t\t.then( texture => {\n\n\t\t\tconst generator = new BlurredEnvMapGenerator( renderer );\n\t\t\tconst blurredTex = generator.generate( texture, 0.35 );\n\t\t\tptRenderer.material.envMapInfo.updateFrom( blurredTex );\n\t\t\tgenerator.dispose();\n\t\t\ttexture.dispose();\n\n\t\t\tscene.environment = blurredTex;\n\n\t\t} );\n\n\n\tconst generator = new PathTracingSceneWorker();\n\tconst gltfPromise = new GLTFLoader()\n\t\t.setMeshoptDecoder( MeshoptDecoder )\n\t\t.loadAsync( 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/models/sd-macross-city-standoff-diorama/scene.glb' )\n\t\t.then( gltf => {\n\n\t\t\tconst group = new THREE.Group();\n\n\t\t\tconst geometry = new THREE.SphereGeometry( 1, 10, 10 );\n\t\t\tconst mat = new THREE.MeshStandardMaterial( {\n\t\t\t\temissiveIntensity: 10,\n\t\t\t\temissive: 0xffffff\n\t\t\t} );\n\t\t\tfor ( let i = 0; i < 300; i ++ ) {\n\n\t\t\t\tconst m = new THREE.Mesh(\n\t\t\t\t\tgeometry,\n\t\t\t\t\tmat\n\t\t\t\t);\n\t\t\t\tm.scale.setScalar( 0.075 * Math.random() + 0.03 );\n\t\t\t\tm.position.randomDirection().multiplyScalar( 30 + Math.random() * 15 );\n\t\t\t\tgroup.add( m );\n\n\t\t\t}\n\n\t\t\tgltf.scene.scale.setScalar( 0.5 );\n\t\t\tgltf.scene.updateMatrixWorld();\n\t\t\tgroup.add( gltf.scene );\n\n\t\t\tgltf.scene.traverse( c => {\n\n\t\t\t\tif ( c.material ) {\n\n\t\t\t\t\tc.material.roughness = 0.05;\n\t\t\t\t\tc.material.metalness = 0.05;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn generator.generate( group );\n\n\t\t} )\n\t\t.then( result => {\n\n\t\t\tsceneInfo = result;\n\n\t\t\tscene.add( result.scene );\n\n\t\t\tconst { bvh, textures, materials } = result;\n\t\t\tconst geometry = bvh.geometry;\n\t\t\tconst material = ptRenderer.material;\n\n\t\t\tmaterial.bvh.updateFrom( bvh );\n\t\t\tmaterial.attributesArray.updateFrom(\n\t\t\t\tgeometry.attributes.normal,\n\t\t\t\tgeometry.attributes.tangent,\n\t\t\t\tgeometry.attributes.uv,\n\t\t\t\tgeometry.attributes.color,\n\t\t\t);\n\t\t\tmaterial.materialIndexAttribute.updateFrom( geometry.attributes.materialIndex );\n\t\t\tmaterial.textures.setTextures( renderer, 2048, 2048, textures );\n\t\t\tmaterial.materials.updateFrom( materials, textures );\n\n\t\t\tgenerator.dispose();\n\n\t\t} );\n\n\tawait Promise.all( [ gltfPromise, envMapPromise ] );\n\n\tdocument.getElementById( 'loading' ).remove();\n\n\tonResize();\n\twindow.addEventListener( 'resize', onResize );\n\trenderer.domElement.addEventListener( 'mouseup', onMouseUp );\n\trenderer.domElement.addEventListener( 'mousedown', onMouseDown );\n\n\tconst gui = new GUI();\n\tconst ptFolder = gui.addFolder( 'Path Tracing' );\n\tptFolder.add( params, 'tiles', 1, 4, 1 ).onChange( value => {\n\n\t\tptRenderer.tiles.set( value, value );\n\n\t} );\n\tptFolder.add( params, 'samplesPerFrame', 1, 10, 1 );\n\tptFolder.add( params, 'bounces', 1, 30, 1 ).onChange( () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\tptFolder.add( params, 'resolutionScale', 0.1, 1 ).onChange( () => {\n\n\t\tonResize();\n\n\t} );\n\n\tconst cameraFolder = gui.addFolder( 'Camera' );\n\tcameraFolder.add( camera, 'focusDistance', 1, 100 ).onChange( reset ).listen();\n\tcameraFolder.add( camera, 'apertureBlades', 0, 10, 1 ).onChange( function ( v ) {\n\n\t\tcamera.apertureBlades = v === 0 ? 0 : Math.max( v, 3 );\n\t\tthis.updateDisplay();\n\t\treset();\n\n\t} );\n\tcameraFolder.add( camera, 'apertureRotation', 0, 12.5 ).onChange( reset );\n\tcameraFolder.add( camera, 'anamorphicRatio', 0.1, 10.0 ).onChange( reset );\n\tcameraFolder.add( camera, 'bokehSize', 0, 100 ).onChange( reset ).listen();\n\tcameraFolder.add( camera, 'fStop', 0.02, 20 ).onChange( reset ).listen();\n\tcameraFolder.add( camera, 'fov', 25, 100 ).onChange( () => {\n\n\t\tcamera.updateProjectionMatrix();\n\t\treset();\n\n\t} ).listen();\n\tcameraFolder.add( params, 'autoFocus' );\n\n\tanimate();\n\n}\n\nfunction onMouseDown( e ) {\n\n\tmouse.set( e.clientX, e.clientY );\n\n}\n\nfunction onMouseUp( e ) {\n\n\tconst deltaMouse = Math.abs( mouse.x - e.clientX ) + Math.abs( mouse.y - e.clientY );\n\tif ( deltaMouse < 2 && sceneInfo ) {\n\n\t\tconst bvh = sceneInfo.bvh;\n\t\tconst raycaster = new THREE.Raycaster();\n\t\traycaster.setFromCamera( {\n\n\t\t\tx: ( e.clientX / window.innerWidth ) * 2 - 1,\n\t\t\ty: - ( e.clientY / window.innerHeight ) * 2 + 1,\n\n\t\t}, camera );\n\n\t\tconst hit = bvh.raycastFirst( raycaster.ray );\n\t\tif ( hit ) {\n\n\t\t\tfocusPoint.copy( hit.point );\n\t\t\tcamera.focusDistance = hit.distance - camera.near;\n\t\t\tptRenderer.reset();\n\n\t\t}\n\n\t}\n\n}\n\nfunction onResize() {\n\n\tconst w = window.innerWidth;\n\tconst h = window.innerHeight;\n\tconst scale = params.resolutionScale;\n\tconst dpr = window.devicePixelRatio;\n\n\tptRenderer.setSize( w * scale * dpr, h * scale * dpr );\n\tptRenderer.reset();\n\n\trenderer.setSize( w, h );\n\trenderer.setPixelRatio( window.devicePixelRatio * scale );\n\tcamera.aspect = w / h;\n\tcamera.updateProjectionMatrix();\n\n}\n\nfunction reset() {\n\n\tptRenderer.reset();\n\n}\n\n\nfunction animate() {\n\n\trequestAnimationFrame( animate );\n\n\tif ( params.autoFocus ) {\n\n\t\tcamera.focusDistance = camera.position.distanceTo( focusPoint ) - camera.near;\n\n\t}\n\n\tptRenderer.material.materials.updateFrom( sceneInfo.materials, sceneInfo.textures );\n\tptRenderer.material.filterGlossyFactor = params.filterGlossyFactor;\n\tptRenderer.material.bounces = params.bounces;\n\tptRenderer.material.physicalCamera.updateFrom( camera );\n\n\tcamera.updateMatrixWorld();\n\n\tfor ( let i = 0, l = params.samplesPerFrame; i < l; i ++ ) {\n\n\t\tptRenderer.update();\n\n\t}\n\n\tif ( ptRenderer.samples < 1 ) {\n\n\t\trenderer.render( scene, camera );\n\n\t}\n\n\trenderer.autoClear = false;\n\tfsQuad.render( renderer );\n\trenderer.autoClear = true;\n\n\tsamplesEl.innerText = `Samples: ${ Math.floor( ptRenderer.samples ) }`;\n\n}\n\n\n\n\n"],"names":["$ilwiq","parcelRequire","$c6cfb944fb68dfc5$var$renderer","$c6cfb944fb68dfc5$var$controls","$c6cfb944fb68dfc5$var$sceneInfo","$c6cfb944fb68dfc5$var$ptRenderer","$c6cfb944fb68dfc5$var$camera","$c6cfb944fb68dfc5$var$fsQuad","$c6cfb944fb68dfc5$var$scene","$c6cfb944fb68dfc5$var$samplesEl","$c6cfb944fb68dfc5$var$mouse","Vector2","$c6cfb944fb68dfc5$var$focusPoint","Vector3","$c6cfb944fb68dfc5$var$params","bounces","samplesPerFrame","resolutionScale","window","devicePixelRatio","filterGlossyFactor","tiles","autoFocus","$c6cfb944fb68dfc5$var$onMouseDown","e","set","clientX","clientY","$c6cfb944fb68dfc5$var$onMouseUp","Math","abs","x","y","bvh","raycaster","Raycaster","setFromCamera","innerWidth","innerHeight","hit","raycastFirst","ray","copy","point","focusDistance","distance","near","reset","$c6cfb944fb68dfc5$var$onResize","w","h","scale","dpr","setSize","setPixelRatio","aspect","updateProjectionMatrix","$c6cfb944fb68dfc5$var$reset","$c6cfb944fb68dfc5$var$animate","requestAnimationFrame","position","distanceTo","material","materials","updateFrom","textures","physicalCamera","updateMatrixWorld","i","l","update","samples","render","autoClear","innerText","floor","max","async","WebGLRenderer","antialias","toneMapping","ACESFilmicToneMapping","outputEncoding","sRGBEncoding","document","body","appendChild","domElement","$4CEV9","PhysicalCamera","apertureBlades","fStop","Scene","gradientMap","GradientEquirectTexture","topColor","convertSRGBToLinear","bottomColor","PathTracingRenderer","camera","PhysicalPathTracingMaterial","setDefine","backgroundMap","environmentIntensity","$RPVlj","FullScreenQuad","MeshBasicMaterial","map","target","texture","blending","CustomBlending","$5Rd1x","OrbitControls","addEventListener","getElementById","envMapPromise","$891vQ","RGBELoader","setDataType","FloatType","loadAsync","then","generator","BlurredEnvMapGenerator","blurredTex","generate","envMapInfo","dispose","environment","generator1","$cVdfP","PathTracingSceneWorker","gltfPromise","$7lx9d","GLTFLoader","setMeshoptDecoder","$kp7Te","MeshoptDecoder","gltf","group","Group","geometry","SphereGeometry","mat","MeshStandardMaterial","emissiveIntensity","emissive","m","Mesh","setScalar","random","randomDirection","multiplyScalar","add","scene","traverse","c","roughness","metalness","result","attributesArray","attributes","normal","tangent","uv","color","materialIndexAttribute","materialIndex","setTextures","Promise","all","remove","gui","$jiuw3","GUI","ptFolder","addFolder","onChange","value","cameraFolder","listen","v","this","updateDisplay","$c6cfb944fb68dfc5$var$init"],"version":3,"file":"depthOfField.0cc6d401.js.map"}
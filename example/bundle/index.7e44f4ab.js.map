{"mappings":"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","sources":["example/index.js","node_modules/three/examples/jsm/libs/stats.module.js"],"sourcesContent":["import {\n\tACESFilmicToneMapping,\n\tNoToneMapping,\n\tBox3,\n\tLoadingManager,\n\tSphere,\n\tDoubleSide,\n\tMesh,\n\tMeshStandardMaterial,\n\tPlaneGeometry,\n\tGroup,\n\tMeshPhysicalMaterial,\n\tWebGLRenderer,\n\tScene,\n\tPerspectiveCamera,\n\tOrthographicCamera,\n\tMeshBasicMaterial,\n\tsRGBEncoding,\n\tCustomBlending,\n\tFloatType\n} from 'three';\nimport { MeshoptDecoder } from 'three/examples/jsm/libs/meshopt_decoder.module.js';\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { LDrawLoader } from 'three/examples/jsm/loaders/LDrawLoader.js';\nimport { LDrawUtils } from 'three/examples/jsm/utils/LDrawUtils.js';\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\nimport Stats from 'three/examples/jsm/libs/stats.module.js';\nimport { generateRadialFloorTexture } from './utils/generateRadialFloorTexture.js';\nimport { PathTracingSceneWorker } from '../src/workers/PathTracingSceneWorker.js';\nimport { PhysicalPathTracingMaterial, PathTracingRenderer, MaterialReducer, BlurredEnvMapGenerator, GradientEquirectTexture } from '../src/index.js';\nimport { FullScreenQuad } from 'three/examples/jsm/postprocessing/Pass.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nconst envMaps = {\n\t'Royal Esplanade': 'https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/equirectangular/royal_esplanade_1k.hdr',\n\t'Moonless Golf': 'https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/equirectangular/moonless_golf_1k.hdr',\n\t'Overpass': 'https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/equirectangular/pedestrian_overpass_1k.hdr',\n\t'Venice Sunset': 'https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/equirectangular/venice_sunset_1k.hdr',\n\t'Small Studio': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/studio_small_05_1k.hdr',\n\t'Pfalzer Forest': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/phalzer_forest_01_1k.hdr',\n\t'Leadenhall Market': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/leadenhall_market_1k.hdr',\n\t'Kloppenheim': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/kloppenheim_05_1k.hdr',\n\t'Hilly Terrain': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/hilly_terrain_01_1k.hdr',\n\t'Circus Arena': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/circus_arena_1k.hdr',\n\t'Chinese Garden': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/chinese_garden_1k.hdr',\n\t'Autoshop': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/autoshop_01_1k.hdr',\n\n\t'Measuring Lab': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/vintage_measuring_lab_2k.hdr',\n\t'Whale Skeleton': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/whale_skeleton_2k.hdr',\n\t'Hall of Mammals': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/hall_of_mammals_2k.hdr',\n\n\t'Drachenfels Cellar': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/drachenfels_cellar_2k.hdr',\n\t'Adams Place Bridge': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/adams_place_bridge_2k.hdr',\n\t'Sepulchral Chapel Rotunda': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/sepulchral_chapel_rotunda_2k.hdr',\n\t'Peppermint Powerplant': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/peppermint_powerplant_2k.hdr',\n\t'Noon Grass': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/noon_grass_2k.hdr',\n\t'Narrow Moonlit Road': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/narrow_moonlit_road_2k.hdr',\n\t'St Peters Square Night': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/st_peters_square_night_2k.hdr',\n\t'Brown Photostudio 01': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/brown_photostudio_01_2k.hdr',\n\t'Rainforest Trail': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/rainforest_trail_2k.hdr',\n\t'Brown Photostudio 07': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/brown_photostudio_07_2k.hdr',\n\t'Brown Photostudio 06': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/brown_photostudio_06_2k.hdr',\n\t'Dancing Hall': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/dancing_hall_2k.hdr',\n\t'Aristea Wreck Puresky': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/aristea_wreck_puresky_2k.hdr',\n\t'Modern Buildings 2': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/modern_buildings_2_2k.hdr',\n\t'Thatch Chapel': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/thatch_chapel_2k.hdr',\n\t'Vestibule': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/vestibule_2k.hdr',\n\t'Blocky Photo Studio': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/blocky_photo_studio_1k.hdr',\n\t'Christmas Photo Studio 07': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/christmas_photo_studio_07_2k.hdr',\n\t'Aerodynamics Workshop': 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/aerodynamics_workshop_1k.hdr',\n\n};\n\nconst models = window.MODEL_LIST || {};\n\nlet initialModel = Object.keys( models )[ 0 ];\nif ( window.location.hash ) {\n\n\tconst modelName = window.location.hash.substring( 1 ).replaceAll( '%20', ' ' );\n\tif ( modelName in models ) {\n\n\t\tinitialModel = modelName;\n\n\t}\n\n}\n\nconst params = {\n\n\tmultipleImportanceSampling: true,\n\tacesToneMapping: true,\n\tresolutionScale: 1 / window.devicePixelRatio,\n\ttilesX: 2,\n\ttilesY: 2,\n\tsamplesPerFrame: 1,\n\n\tmodel: initialModel,\n\n\tenvMap: envMaps[ 'Aristea Wreck Puresky' ],\n\n\tgradientTop: '#bfd8ff',\n\tgradientBottom: '#ffffff',\n\n\tenvironmentIntensity: 1.0,\n\tenvironmentBlur: 0.0,\n\tenvironmentRotation: 0,\n\n\tcameraProjection: 'Perspective',\n\n\tbackgroundType: 'Gradient',\n\tbgGradientTop: '#111111',\n\tbgGradientBottom: '#000000',\n\tbackgroundAlpha: 1.0,\n\tcheckerboardTransparency: true,\n\n\tenable: true,\n\tbounces: 5,\n\tfilterGlossyFactor: 0.5,\n\tpause: false,\n\n\tfloorColor: '#111111',\n\tfloorOpacity: 1.0,\n\tfloorRoughness: 0.2,\n\tfloorMetalness: 0.2,\n\n};\n\nlet creditEl, loadingEl, samplesEl;\nlet floorPlane, gui, stats, sceneInfo;\nlet renderer, orthoCamera, perspectiveCamera, activeCamera;\nlet ptRenderer, fsQuad, controls, scene;\nlet envMap, envMapGenerator, backgroundMap;\nlet loadingModel = false;\nlet delaySamples = 0;\n\nconst orthoWidth = 2;\n\ninit();\n\nasync function init() {\n\n\tcreditEl = document.getElementById( 'credits' );\n\tloadingEl = document.getElementById( 'loading' );\n\tsamplesEl = document.getElementById( 'samples' );\n\n\trenderer = new WebGLRenderer( { antialias: true } );\n\trenderer.outputEncoding = sRGBEncoding;\n\trenderer.toneMapping = ACESFilmicToneMapping;\n\trenderer.physicallyCorrectLights = true;\n\tdocument.body.appendChild( renderer.domElement );\n\n\tscene = new Scene();\n\n\tconst aspect = window.innerWidth / window.innerHeight;\n\tperspectiveCamera = new PerspectiveCamera( 60, aspect, 0.025, 500 );\n\tperspectiveCamera.position.set( - 1, 0.25, 1 );\n\n\tconst orthoHeight = orthoWidth / aspect;\n\torthoCamera = new OrthographicCamera( orthoWidth / - 2, orthoWidth / 2, orthoHeight / 2, orthoHeight / - 2, 0, 100 );\n\torthoCamera.position.set( - 1, 0.25, 1 );\n\n\tbackgroundMap = new GradientEquirectTexture();\n\tbackgroundMap.topColor.set( params.bgGradientTop );\n\tbackgroundMap.bottomColor.set( params.bgGradientBottom );\n\tbackgroundMap.update();\n\n\tptRenderer = new PathTracingRenderer( renderer );\n\tptRenderer.alpha = true;\n\tptRenderer.material = new PhysicalPathTracingMaterial();\n\tptRenderer.tiles.set( params.tiles, params.tiles );\n\tptRenderer.material.setDefine( 'FEATURE_MIS', Number( params.multipleImportanceSampling ) );\n\tptRenderer.material.backgroundMap = backgroundMap;\n\tptRenderer.material.transmissiveBounces = 10;\n\n\tfsQuad = new FullScreenQuad( new MeshBasicMaterial( {\n\t\tmap: ptRenderer.target.texture,\n\t\tblending: CustomBlending,\n\t\tpremultipliedAlpha: renderer.getContextAttributes().premultipliedAlpha,\n\t} ) );\n\n\tcontrols = new OrbitControls( perspectiveCamera, renderer.domElement );\n\tcontrols.addEventListener( 'change', resetRenderer );\n\n\tenvMapGenerator = new BlurredEnvMapGenerator( renderer );\n\n\tconst floorTex = generateRadialFloorTexture( 2048 );\n\tfloorPlane = new Mesh(\n\t\tnew PlaneGeometry(),\n\t\tnew MeshStandardMaterial( {\n\t\t\tmap: floorTex,\n\t\t\ttransparent: true,\n\t\t\tcolor: 0x111111,\n\t\t\troughness: 0.1,\n\t\t\tmetalness: 0.0,\n\t\t\tside: DoubleSide,\n\t\t} )\n\t);\n\tfloorPlane.scale.setScalar( 5 );\n\tfloorPlane.rotation.x = - Math.PI / 2;\n\n\tstats = new Stats();\n\tdocument.body.appendChild( stats.dom );\n\tscene.background = backgroundMap;\n\tptRenderer.tiles.set( params.tilesX, params.tilesY );\n\n\tupdateCamera( params.cameraProjection );\n\tupdateModel();\n\tupdateEnvMap();\n\tonResize();\n\n\tanimate();\n\n\twindow.addEventListener( 'resize', onResize );\n\n}\n\nfunction animate() {\n\n\trequestAnimationFrame( animate );\n\n\tstats.update();\n\n\tif ( loadingModel ) {\n\n\t\treturn;\n\n\t}\n\n\tfloorPlane.material.color.set( params.floorColor );\n\tfloorPlane.material.roughness = params.floorRoughness;\n\tfloorPlane.material.metalness = params.floorMetalness;\n\tfloorPlane.material.opacity = params.floorOpacity;\n\n\tif ( ptRenderer.samples < 1.0 || ! params.enable ) {\n\n\t\trenderer.render( scene, activeCamera );\n\n\t}\n\n\tif ( params.enable && delaySamples === 0 ) {\n\n\t\tconst samples = Math.floor( ptRenderer.samples );\n\t\tsamplesEl.innerText = `samples: ${ samples }`;\n\n\t\tptRenderer.material.materials.updateFrom( sceneInfo.materials, sceneInfo.textures );\n\t\tptRenderer.material.filterGlossyFactor = params.filterGlossyFactor;\n\t\tptRenderer.material.environmentIntensity = params.environmentIntensity;\n\t\tptRenderer.material.bounces = params.bounces;\n\t\tptRenderer.material.physicalCamera.updateFrom( activeCamera );\n\n\t\tactiveCamera.updateMatrixWorld();\n\n\t\tif ( ! params.pause || ptRenderer.samples < 1 ) {\n\n\t\t\tfor ( let i = 0, l = params.samplesPerFrame; i < l; i ++ ) {\n\n\t\t\t\tptRenderer.update();\n\n\t\t\t}\n\n\t\t}\n\n\t\trenderer.autoClear = false;\n\t\tfsQuad.render( renderer );\n\t\trenderer.autoClear = true;\n\n\t} else if ( delaySamples > 0 ) {\n\n\t\tdelaySamples --;\n\n\t}\n\n\tsamplesEl.innerText = `Samples: ${ Math.floor( ptRenderer.samples ) }`;\n\n}\n\nfunction resetRenderer() {\n\n\tif ( params.tilesX * params.tilesY !== 1.0 ) {\n\n\t\tdelaySamples = 1;\n\n\t}\n\n\tptRenderer.reset();\n\n}\n\nfunction onResize() {\n\n\tconst w = window.innerWidth;\n\tconst h = window.innerHeight;\n\tconst scale = params.resolutionScale;\n\tconst dpr = window.devicePixelRatio;\n\n\tptRenderer.setSize( w * scale * dpr, h * scale * dpr );\n\tptRenderer.reset();\n\n\trenderer.setSize( w, h );\n\trenderer.setPixelRatio( window.devicePixelRatio * scale );\n\n\tconst aspect = w / h;\n\tperspectiveCamera.aspect = aspect;\n\tperspectiveCamera.updateProjectionMatrix();\n\n\tconst orthoHeight = orthoWidth / aspect;\n\torthoCamera.top = orthoHeight / 2;\n\torthoCamera.bottom = orthoHeight / - 2;\n\torthoCamera.updateProjectionMatrix();\n\n}\n\nfunction buildGui() {\n\n\tif ( gui ) {\n\n\t\tgui.destroy();\n\n\t}\n\n\tgui = new GUI();\n\n\tgui.add( params, 'model', Object.keys( models ) ).onChange( updateModel );\n\n\tconst pathTracingFolder = gui.addFolder( 'path tracing' );\n\tpathTracingFolder.add( params, 'enable' );\n\tpathTracingFolder.add( params, 'pause' );\n\tpathTracingFolder.add( params, 'multipleImportanceSampling' ).onChange( v => {\n\n\t\tptRenderer.material.setDefine( 'FEATURE_MIS', Number( v ) );\n\t\tptRenderer.reset();\n\n\t} );\n\tpathTracingFolder.add( params, 'acesToneMapping' ).onChange( v => {\n\n\t\trenderer.toneMapping = v ? ACESFilmicToneMapping : NoToneMapping;\n\n\t} );\n\tpathTracingFolder.add( params, 'bounces', 1, 20, 1 ).onChange( () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\tpathTracingFolder.add( params, 'filterGlossyFactor', 0, 1 ).onChange( () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\n\tconst resolutionFolder = gui.addFolder( 'resolution' );\n\tresolutionFolder.add( params, 'resolutionScale', 0.1, 1.0, 0.01 ).onChange( () => {\n\n\t\tonResize();\n\n\t} );\n\tresolutionFolder.add( params, 'samplesPerFrame', 1, 10, 1 );\n\tresolutionFolder.add( params, 'tilesX', 1, 10, 1 ).onChange( v => {\n\n\t\tptRenderer.tiles.x = v;\n\n\t} );\n\tresolutionFolder.add( params, 'tilesY', 1, 10, 1 ).onChange( v => {\n\n\t\tptRenderer.tiles.y = v;\n\n\t} );\n\tresolutionFolder.add( params, 'cameraProjection', [ 'Perspective', 'Orthographic' ] ).onChange( v => {\n\n\t\tupdateCamera( v );\n\n\t} );\n\tresolutionFolder.open();\n\n\tconst environmentFolder = gui.addFolder( 'environment' );\n\tenvironmentFolder.add( params, 'envMap', envMaps ).name( 'map' ).onChange( updateEnvMap );\n\tenvironmentFolder.add( params, 'environmentBlur', 0.0, 1.0 ).onChange( () => {\n\n\t\tupdateEnvBlur();\n\t\tptRenderer.reset();\n\n\t} ).name( 'env map blur' );\n\tenvironmentFolder.add( params, 'environmentIntensity', 0.0, 10.0 ).onChange( () => {\n\n\t\tptRenderer.reset();\n\n\t} ).name( 'intensity' );\n\tenvironmentFolder.add( params, 'environmentRotation', 0, 2 * Math.PI ).onChange( v => {\n\n\t\tptRenderer.material.environmentRotation.makeRotationY( v );\n\t\tptRenderer.reset();\n\n\t} );\n\tenvironmentFolder.open();\n\n\tconst backgroundFolder = gui.addFolder( 'background' );\n\tbackgroundFolder.add( params, 'backgroundType', [ 'Environment', 'Gradient' ] ).onChange( v => {\n\n\t\tif ( v === 'Gradient' ) {\n\n\t\t\tscene.background = backgroundMap;\n\t\t\tptRenderer.material.backgroundMap = backgroundMap;\n\n\t\t} else {\n\n\t\t\tscene.background = scene.environment;\n\t\t\tptRenderer.material.backgroundMap = null;\n\n\t\t}\n\n\t\tptRenderer.reset();\n\n\t} );\n\tbackgroundFolder.addColor( params, 'bgGradientTop' ).onChange( v => {\n\n\t\tbackgroundMap.topColor.set( v );\n\t\tbackgroundMap.update();\n\n\t\tptRenderer.reset();\n\n\t} );\n\tbackgroundFolder.addColor( params, 'bgGradientBottom' ).onChange( v => {\n\n\t\tbackgroundMap.bottomColor.set( v );\n\t\tbackgroundMap.update();\n\n\t\tptRenderer.reset();\n\n\t} );\n\tbackgroundFolder.add( params, 'backgroundAlpha', 0, 1 ).onChange( v => {\n\n\t\tptRenderer.material.backgroundAlpha = v;\n\t\tptRenderer.reset();\n\n\t} );\n\tbackgroundFolder.add( params, 'checkerboardTransparency' ).onChange( v => {\n\n\t\tif ( v ) document.body.classList.add( 'checkerboard' );\n\t\telse document.body.classList.remove( 'checkerboard' );\n\n\t} );\n\n\tconst floorFolder = gui.addFolder( 'floor' );\n\tfloorFolder.addColor( params, 'floorColor' ).onChange( () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\tfloorFolder.add( params, 'floorRoughness', 0, 1 ).onChange( () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\tfloorFolder.add( params, 'floorMetalness', 0, 1 ).onChange( () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\tfloorFolder.add( params, 'floorOpacity', 0, 1 ).onChange( () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\tfloorFolder.close();\n\n}\n\nfunction updateEnvMap() {\n\n\tnew RGBELoader().setDataType( FloatType )\n\t\t.load( params.envMap, texture => {\n\n\t\t\tif ( scene.environmentMap ) {\n\n\t\t\t\tscene.environment.dispose();\n\t\t\t\tenvMap.dispose();\n\n\t\t\t}\n\n\t\t\tenvMap = texture;\n\t\t\tupdateEnvBlur();\n\t\t\tptRenderer.reset();\n\n\t\t} );\n\n}\n\nfunction updateEnvBlur() {\n\n\tconst blurredEnvMap = envMapGenerator.generate( envMap, params.environmentBlur );\n\tptRenderer.material.envMapInfo.updateFrom( blurredEnvMap );\n\n\tscene.environment = blurredEnvMap;\n\tif ( params.backgroundType !== 'Gradient' ) {\n\n\t\tscene.background = blurredEnvMap;\n\n\t}\n\n}\n\nfunction updateCamera( cameraProjection ) {\n\n\tif ( cameraProjection === 'Perspective' ) {\n\n\t\tif ( activeCamera ) {\n\n\t\t\tperspectiveCamera.position.copy( activeCamera.position );\n\n\t\t}\n\n\t\tactiveCamera = perspectiveCamera;\n\n\t} else {\n\n\t\tif ( activeCamera ) {\n\n\t\t\torthoCamera.position.copy( activeCamera.position );\n\n\t\t}\n\n\t\tactiveCamera = orthoCamera;\n\n\t}\n\n\tcontrols.object = activeCamera;\n\tptRenderer.camera = activeCamera;\n\n\tcontrols.update();\n\n\tresetRenderer();\n\n}\n\nfunction convertOpacityToTransmission( model, ior ) {\n\n\tmodel.traverse( c => {\n\n\t\tif ( c.material ) {\n\n\t\t\tconst material = c.material;\n\t\t\tif ( material.opacity < 0.65 && material.opacity > 0.2 ) {\n\n\t\t\t\tconst newMaterial = new MeshPhysicalMaterial();\n\t\t\t\tfor ( const key in material ) {\n\n\t\t\t\t\tif ( key in material ) {\n\n\t\t\t\t\t\tif ( material[ key ] === null ) {\n\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( material[ key ].isTexture ) {\n\n\t\t\t\t\t\t\tnewMaterial[ key ] = material[ key ];\n\n\t\t\t\t\t\t} else if ( material[ key ].copy && material[ key ].constructor === newMaterial[ key ].constructor ) {\n\n\t\t\t\t\t\t\tnewMaterial[ key ].copy( material[ key ] );\n\n\t\t\t\t\t\t} else if ( ( typeof material[ key ] ) === 'number' ) {\n\n\t\t\t\t\t\t\tnewMaterial[ key ] = material[ key ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tnewMaterial.opacity = 1.0;\n\t\t\t\tnewMaterial.transmission = 1.0;\n\t\t\t\tnewMaterial.ior = ior;\n\n\t\t\t\tconst hsl = {};\n\t\t\t\tnewMaterial.color.getHSL( hsl );\n\t\t\t\thsl.l = Math.max( hsl.l, 0.35 );\n\t\t\t\tnewMaterial.color.setHSL( hsl.h, hsl.s, hsl.l );\n\n\t\t\t\tc.material = newMaterial;\n\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n}\n\nasync function updateModel() {\n\n\tif ( gui ) {\n\n\t\tdocument.body.classList.remove( 'checkerboard' );\n\t\tgui.destroy();\n\t\tgui = null;\n\n\t}\n\n\tlet model;\n\tconst manager = new LoadingManager();\n\tconst modelInfo = models[ params.model ];\n\n\tloadingModel = true;\n\trenderer.domElement.style.visibility = 'hidden';\n\tsamplesEl.innerText = '--';\n\tcreditEl.innerText = '--';\n\tloadingEl.innerText = 'Loading';\n\tloadingEl.style.visibility = 'visible';\n\n\tscene.traverse( c => {\n\n\t\tif ( c.material ) {\n\n\t\t\tconst material = c.material;\n\t\t\tfor ( const key in material ) {\n\n\t\t\t\tif ( material[ key ] && material[ key ].isTexture ) {\n\n\t\t\t\t\tmaterial[ key ].dispose();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n\tif ( sceneInfo ) {\n\n\t\tscene.remove( sceneInfo.scene );\n\n\t}\n\n\n\tconst onFinish = async () => {\n\n\t\tif ( modelInfo.removeEmission ) {\n\n\t\t\tmodel.traverse( c => {\n\n\t\t\t\tif ( c.material ) {\n\n\t\t\t\t\tc.material.emissiveMap = null;\n\t\t\t\t\tc.material.emissiveIntensity = 0;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( modelInfo.opacityToTransmission ) {\n\n\t\t\tconvertOpacityToTransmission( model, modelInfo.ior || 1.5 );\n\n\t\t}\n\n\t\tmodel.traverse( c => {\n\n\t\t\tif ( c.material ) {\n\n\t\t\t\t// set the thickness so we render the material as a volumetric object\n\t\t\t\tc.material.thickness = 1.0;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tif ( modelInfo.postProcess ) {\n\n\t\t\tmodelInfo.postProcess( model );\n\n\t\t}\n\n\t\t// rotate model after so it doesn't affect the bounding sphere scale\n\t\tif ( modelInfo.rotation ) {\n\n\t\t\tmodel.rotation.set( ...modelInfo.rotation );\n\n\t\t}\n\n\t\t// center the model\n\t\tconst box = new Box3();\n\t\tbox.setFromObject( model );\n\t\tmodel.position\n\t\t\t.addScaledVector( box.min, - 0.5 )\n\t\t\t.addScaledVector( box.max, - 0.5 );\n\n\t\tconst sphere = new Sphere();\n\t\tbox.getBoundingSphere( sphere );\n\n\t\tmodel.scale.setScalar( 1 / sphere.radius );\n\t\tmodel.position.multiplyScalar( 1 / sphere.radius );\n\n\t\tbox.setFromObject( model );\n\n\t\tmodel.updateMatrixWorld();\n\n\t\tconst group = new Group();\n\t\tfloorPlane.position.y = box.min.y;\n\t\tgroup.add( model, floorPlane );\n\n\t\tconst reducer = new MaterialReducer();\n\t\treducer.process( group );\n\n\t\tconst generator = new PathTracingSceneWorker();\n\t\tconst result = await generator.generate( group, { onProgress: v => {\n\n\t\t\tconst percent = Math.floor( 100 * v );\n\t\t\tloadingEl.innerText = `Building BVH : ${ percent }%`;\n\n\t\t} } );\n\n\t\tsceneInfo = result;\n\t\tscene.add( sceneInfo.scene );\n\n\t\tconst { bvh, textures, materials, lights } = result;\n\t\tconst geometry = bvh.geometry;\n\t\tconst material = ptRenderer.material;\n\n\t\tmaterial.bvh.updateFrom( bvh );\n\t\tmaterial.attributesArray.updateFrom(\n\t\t\tgeometry.attributes.normal,\n\t\t\tgeometry.attributes.tangent,\n\t\t\tgeometry.attributes.uv,\n\t\t\tgeometry.attributes.color,\n\t\t);\n\t\tmaterial.materialIndexAttribute.updateFrom( geometry.attributes.materialIndex );\n\t\tmaterial.textures.setTextures( renderer, 2048, 2048, textures );\n\t\tmaterial.materials.updateFrom( materials, textures );\n\t\tmaterial.lights.updateFrom( lights );\n\n\t\tgenerator.dispose();\n\n\t\tloadingEl.style.visibility = 'hidden';\n\n\t\tcreditEl.innerHTML = modelInfo.credit || '';\n\t\tcreditEl.style.visibility = modelInfo.credit ? 'visible' : 'hidden';\n\t\tparams.bounces = modelInfo.bounces || 5;\n\t\tparams.floorColor = modelInfo.floorColor || '#111111';\n\t\tparams.floorRoughness = modelInfo.floorRoughness || 0.2;\n\t\tparams.floorMetalness = modelInfo.floorMetalness || 0.2;\n\t\tparams.bgGradientTop = modelInfo.gradientTop || '#111111';\n\t\tparams.bgGradientBottom = modelInfo.gradientBot || '#000000';\n\n\t\tbackgroundMap.topColor.set( params.bgGradientTop );\n\t\tbackgroundMap.bottomColor.set( params.bgGradientBottom );\n\t\tbackgroundMap.update();\n\n\t\tbuildGui();\n\n\t\tloadingModel = false;\n\t\trenderer.domElement.style.visibility = 'visible';\n\t\tif ( params.checkerboardTransparency ) {\n\n\t\t\tdocument.body.classList.add( 'checkerboard' );\n\n\t\t}\n\n\t\tptRenderer.reset();\n\n\t};\n\n\tconst url = modelInfo.url;\n\tif ( /(gltf|glb)$/i.test( url ) ) {\n\n\t\tmanager.onLoad = onFinish;\n\t\tnew GLTFLoader( manager )\n\t\t\t.setMeshoptDecoder( MeshoptDecoder )\n\t\t\t.load(\n\t\t\t\turl,\n\t\t\t\tgltf => {\n\n\t\t\t\t\tmodel = gltf.scene;\n\n\t\t\t\t},\n\t\t\t\tprogress => {\n\n\t\t\t\t\tif ( progress.total !== 0 && progress.total >= progress.loaded ) {\n\n\t\t\t\t\t\tconst percent = Math.floor( 100 * progress.loaded / progress.total );\n\t\t\t\t\t\tloadingEl.innerText = `Loading : ${ percent }%`;\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t);\n\n\t} else if ( /mpd$/i.test( url ) ) {\n\n\t\tlet failed = false;\n\t\tmanager.onProgress = ( url, loaded, total ) => {\n\n\t\t\tif ( failed ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst percent = Math.floor( 100 * loaded / total );\n\t\t\tloadingEl.innerText = `Loading : ${ percent }%`;\n\n\t\t};\n\n\t\tconst loader = new LDrawLoader( manager );\n\t\tawait loader.preloadMaterials( 'https://raw.githubusercontent.com/gkjohnson/ldraw-parts-library/master/colors/ldcfgalt.ldr' );\n\t\tloader\n\t\t\t.setPartsLibraryPath( 'https://raw.githubusercontent.com/gkjohnson/ldraw-parts-library/master/complete/ldraw/' )\n\t\t\t.load(\n\t\t\t\turl,\n\t\t\t\tresult => {\n\n\t\t\t\t\tmodel = LDrawUtils.mergeObject( result );\n\t\t\t\t\tmodel.rotation.set( Math.PI, 0, 0 );\n\n\t\t\t\t\tconst toRemove = [];\n\t\t\t\t\tmodel.traverse( c => {\n\n\t\t\t\t\t\tif ( c.isLineSegments ) {\n\n\t\t\t\t\t\t\ttoRemove.push( c );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( c.isMesh ) {\n\n\t\t\t\t\t\t\tc.material.roughness *= 0.25;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t\ttoRemove.forEach( c => {\n\n\t\t\t\t\t\tc.parent.remove( c );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tonFinish();\n\n\t\t\t\t},\n\t\t\t\tundefined,\n\t\t\t\terr => {\n\n\t\t\t\t\tfailed = true;\n\t\t\t\t\tloadingEl.innerText = 'Failed to load model. ' + err.message;\n\n\t\t\t\t}\n\n\t\t\t);\n\n\t}\n\n}\n","var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n"],"names":["$ilwiq","parcelRequire","$5aae44c9b1864d53$var$Stats","mode","container","document","createElement","addPanel","panel","appendChild","dom","showPanel","id","i","children","length","style","display","cssText","addEventListener","event","preventDefault","beginTime","performance","Date","now","prevTime","frames","fpsPanel","Panel","msPanel","self","memory","memPanel","REVISION","begin","end","time","update","usedJSHeapSize","jsHeapSizeLimit","this","domElement","setMode","name","fg","bg","min","Infinity","max","round","Math","PR","window","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","canvas","width","height","context","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","value","maxValue","drawImage","$5aae44c9b1864d53$export$2e2bcd8739ae039","$393e677ed3c566ae$var$envMaps","Overpass","Kloppenheim","Autoshop","Vestibule","$393e677ed3c566ae$var$models","MODEL_LIST","$393e677ed3c566ae$var$initialModel","Object","keys","location","hash","modelName","substring","replaceAll","$393e677ed3c566ae$var$params","multipleImportanceSampling","acesToneMapping","resolutionScale","tilesX","tilesY","samplesPerFrame","model","envMap","gradientTop","gradientBottom","environmentIntensity","environmentBlur","environmentRotation","cameraProjection","backgroundType","bgGradientTop","bgGradientBottom","backgroundAlpha","checkerboardTransparency","enable","bounces","filterGlossyFactor","pause","floorColor","floorOpacity","floorRoughness","floorMetalness","$393e677ed3c566ae$var$creditEl","$393e677ed3c566ae$var$loadingEl","$393e677ed3c566ae$var$samplesEl","$393e677ed3c566ae$var$floorPlane","$393e677ed3c566ae$var$gui","$393e677ed3c566ae$var$stats","$393e677ed3c566ae$var$sceneInfo","$393e677ed3c566ae$var$renderer","$393e677ed3c566ae$var$orthoCamera","$393e677ed3c566ae$var$perspectiveCamera","$393e677ed3c566ae$var$activeCamera","$393e677ed3c566ae$var$ptRenderer","$393e677ed3c566ae$var$fsQuad","$393e677ed3c566ae$var$controls","$393e677ed3c566ae$var$scene","$393e677ed3c566ae$var$envMap","$393e677ed3c566ae$var$envMapGenerator","$393e677ed3c566ae$var$backgroundMap","$393e677ed3c566ae$var$loadingModel","$393e677ed3c566ae$var$delaySamples","$393e677ed3c566ae$var$animate","requestAnimationFrame","material","color","set","roughness","metalness","opacity","samples","render","floor","innerText","materials","updateFrom","textures","physicalCamera","updateMatrixWorld","l","autoClear","$393e677ed3c566ae$var$resetRenderer","reset","$393e677ed3c566ae$var$onResize","w","innerWidth","h","innerHeight","scale","dpr","setSize","setPixelRatio","aspect","updateProjectionMatrix","orthoHeight","top","bottom","$393e677ed3c566ae$var$updateEnvMap","$891vQ","RGBELoader","setDataType","FloatType","load","texture","environmentMap","environment","dispose","$393e677ed3c566ae$var$updateEnvBlur","blurredEnvMap","generate","envMapInfo","background","$393e677ed3c566ae$var$updateCamera","position","copy","object","camera","async","$393e677ed3c566ae$var$updateModel","body","classList","remove","destroy","manager","LoadingManager","modelInfo","visibility","traverse","c","key","isTexture","scene","onFinish","removeEmission","emissiveMap","emissiveIntensity","opacityToTransmission","ior","newMaterial","MeshPhysicalMaterial","constructor","transmission","hsl","getHSL","setHSL","s","$393e677ed3c566ae$var$convertOpacityToTransmission","thickness","postProcess","rotation","box","Box3","setFromObject","addScaledVector","sphere","Sphere","getBoundingSphere","setScalar","radius","multiplyScalar","group","Group","y","add","$4CEV9","MaterialReducer","process","generator","$cVdfP","PathTracingSceneWorker","result","onProgress","v","percent","bvh","lights","geometry","attributesArray","attributes","normal","tangent","uv","materialIndexAttribute","materialIndex","setTextures","innerHTML","credit","gradientBot","topColor","bottomColor","$jiuw3","GUI","onChange","pathTracingFolder","addFolder","setDefine","Number","toneMapping","ACESFilmicToneMapping","NoToneMapping","resolutionFolder","tiles","x","open","environmentFolder","PI","makeRotationY","backgroundFolder","backgroundMap","addColor","floorFolder","close","$393e677ed3c566ae$var$buildGui","url","test","onLoad","$7lx9d","GLTFLoader","setMeshoptDecoder","$kp7Te","MeshoptDecoder","gltf","progress","total","loaded","failed","loader","$cpS3d","LDrawLoader","preloadMaterials","setPartsLibraryPath","$9hfHi","LDrawUtils","mergeObject","toRemove","isLineSegments","push","isMesh","forEach","parent","undefined","err","message","getElementById","WebGLRenderer","antialias","outputEncoding","sRGBEncoding","physicallyCorrectLights","Scene","PerspectiveCamera","OrthographicCamera","$393e677ed3c566ae$var$orthoWidth","GradientEquirectTexture","PathTracingRenderer","alpha","PhysicalPathTracingMaterial","transmissiveBounces","$RPVlj","FullScreenQuad","MeshBasicMaterial","map","target","blending","CustomBlending","premultipliedAlpha","getContextAttributes","$5Rd1x","OrbitControls","BlurredEnvMapGenerator","floorTex","$1EdOY","generateRadialFloorTexture","Mesh","PlaneGeometry","MeshStandardMaterial","transparent","side","DoubleSide","$393e677ed3c566ae$var$init"],"version":3,"file":"index.7e44f4ab.js.map"}